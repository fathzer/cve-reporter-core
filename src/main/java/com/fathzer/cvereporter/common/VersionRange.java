package com.fathzer.cvereporter.common;

import org.apache.maven.artifact.versioning.InvalidVersionSpecificationException;

/** A Version range.
 */
public class VersionRange {
	private final org.apache.maven.artifact.versioning.VersionRange internal;
	
	/** Constructor.
	 * @param range A String that denotes a range in Maven style format:
	 * Some spec examples are:
	 * <ul>
	 * <li><code>1.0</code> or <code>[1.0]</code> Version 1.0</li>
	 * <li><code>[1.0,2.0)</code> Versions 1.0 (included) to 2.0 (not included)</li>
	 * <li><code>[1.0,2.0]</code> Versions 1.0 to 2.0 (both included)</li>
	 * <li><code>[1.5,)</code> Versions 1.5 and higher</li>
	 * <li><code>(,1.0],[1.2,)</code> Versions up to 1.0 (included) and 1.2 or higher</li>
	 * </ul>
	 */
	public VersionRange(String range) {
		try {
			this.internal = org.apache.maven.artifact.versioning.VersionRange.createFromVersionSpec(range);
		} catch (InvalidVersionSpecificationException e) {
			throw new IllegalArgumentException(e);
		}
	}
	
	/** Tests whether a version is included in this range. 
	 * @param version The version to test
	 * @return true if it is included
	 */
	public boolean contains(Version version) {
		return internal.containsVersion(version.getInternal());
	}
}